!function(n){"use strict";function s(n,s,e){function r(s,e){n.session.user=e.data,s.resolve(e)}function i(n){return c(null,n)}function t(s,e){n.session.user=null,s.resolve(e)}function o(r,t){var o=e.defer();return n.session.user=null,s.post(u.signInUrl,r,t).then(i.bind(null,o)).catch(o.reject),o.promise}function l(n,r){var i=e.defer();return s.post(u.signOutUrl,n,r).then(t.bind(null,i)).catch(i.reject),i.promise}function c(n,i){return i||(i=e.defer()),s.get(u.updateUrl,n||{}).then(r.bind(null,i)).catch(i.reject),i.promise}function g(s){return s&&n.session.user?n.session.user[s]:n.session.user}function a(s,e){n.session[s]=e}function d(s){return n.session[s]}function f(s){delete n.session[s]}n.session={};var p={signOut:l,signIn:o,update:c,user:g,get:d,set:a,del:f};return p}function e(n){n.update()}function r(n){t.isString(n.updateUrl)&&(u.updateUrl=n.updateUrl),t.isString(n.signInUrl)&&(u.signInUrl=n.signInUrl),t.isString(n.signOutUrl)&&(u.signOutUrl=n.signOutUrl)}function i(){return o}var t=n.angular,u={signOutUrl:"/api/users/sign-out",signInUrl:"/api/users/sign-in",updateUrl:"/api/session"},o={configure:r,$get:["$rootScope","$http","$q",s]};t.module("ngSession",[]).provider("ngSession",i).run(["ngSession",e])}(window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXNlc3Npb24uanMiXSwibmFtZXMiOlsid2luZG93IiwibmdTZXNzaW9uU2VydmljZUZuIiwiJHJvb3RTY29wZSIsIiRodHRwIiwiJHEiLCJvblNlc3Npb25VcGRhdGVTdWNjZXNzIiwiZGVmZXJyZWQiLCJyZXMiLCJzZXNzaW9uIiwidXNlciIsImRhdGEiLCJyZXNvbHZlIiwib25TaW5nSW5TdWNjZXNzIiwidXBkYXRlIiwib25TaW5nT3V0U3VjY2VzcyIsInNpZ25JbiIsIm9wdGlvbnMiLCJkZWZlciIsInBvc3QiLCJjb25maWciLCJzaWduSW5VcmwiLCJ0aGVuIiwiYmluZCIsImNhdGNoIiwicmVqZWN0IiwicHJvbWlzZSIsInNpZ25PdXQiLCJzaWduT3V0VXJsIiwiZ2V0IiwidXBkYXRlVXJsIiwicHJvcCIsInNldCIsInZhbHVlIiwiZGVsIiwibmdTZXNzaW9uU2VydmljZURlZiIsIm5nU2Vzc2lvblJ1bkZuIiwiJHNlc3Npb24iLCJjb25maWd1cmUiLCJjZmciLCJuZyIsImlzU3RyaW5nIiwibmdTZXNzaW9uUHJvdmlkZXJGbiIsIm5nU2Vzc2lvblByb3ZpZGVyRGVmIiwiYW5ndWxhciIsIiRnZXQiLCJtb2R1bGUiLCJwcm92aWRlciIsInJ1biJdLCJtYXBwaW5ncyI6IkNBU0MsU0FBVUEsR0FDVCxZQWdCQSxTQUFTQyxHQUFtQkMsRUFBWUMsRUFBT0MsR0FhN0MsUUFBU0MsR0FBdUJDLEVBQVVDLEdBQ3hDTCxFQUFXTSxRQUFRQyxLQUFPRixFQUFJRyxLQUU5QkosRUFBU0ssUUFBUUosR0FRbkIsUUFBU0ssR0FBZ0JOLEdBQ3ZCLE1BQU9PLEdBQU8sS0FBTVAsR0FRdEIsUUFBU1EsR0FBaUJSLEVBQVVDLEdBQ2xDTCxFQUFXTSxRQUFRQyxLQUFPLEtBRTFCSCxFQUFTSyxRQUFRSixHQW1CbkIsUUFBU1EsR0FBT0wsRUFBTU0sR0FDcEIsR0FBSVYsR0FBV0YsRUFBR2EsT0FTbEIsT0FOQWYsR0FBV00sUUFBUUMsS0FBTyxLQUUxQk4sRUFBTWUsS0FBS0MsRUFBT0MsVUFBV1YsRUFBTU0sR0FDaENLLEtBQUtULEVBQWdCVSxLQUFLLEtBQU1oQixJQUNoQ2lCLE1BQU1qQixFQUFTa0IsUUFFWGxCLEVBQVNtQixRQW1CbEIsUUFBU0MsR0FBUWhCLEVBQU1NLEdBQ3JCLEdBQUlWLEdBQVdGLEVBQUdhLE9BTWxCLE9BSkFkLEdBQU1lLEtBQUtDLEVBQU9RLFdBQVlqQixFQUFNTSxHQUNqQ0ssS0FBS1AsRUFBaUJRLEtBQUssS0FBTWhCLElBQ2pDaUIsTUFBTWpCLEVBQVNrQixRQUVYbEIsRUFBU21CLFFBbUJsQixRQUFTWixHQUFPRyxFQUFTVixHQVV2QixNQVRLQSxLQUNIQSxFQUFXRixFQUFHYSxTQUloQmQsRUFBTXlCLElBQUlULEVBQU9VLFVBQVdiLE9BQ3pCSyxLQUFLaEIsRUFBdUJpQixLQUFLLEtBQU1oQixJQUN2Q2lCLE1BQU1qQixFQUFTa0IsUUFFWGxCLEVBQVNtQixRQWFsQixRQUFTaEIsR0FBS3FCLEdBQ1osTUFBSUEsSUFBUTVCLEVBQVdNLFFBQVFDLEtBQ3RCUCxFQUFXTSxRQUFRQyxLQUFLcUIsR0FHMUI1QixFQUFXTSxRQUFRQyxLQVc1QixRQUFTc0IsR0FBSUQsRUFBTUUsR0FDakI5QixFQUFXTSxRQUFRc0IsR0FBUUUsRUFZN0IsUUFBU0osR0FBSUUsR0FDWCxNQUFPNUIsR0FBV00sUUFBUXNCLEdBWTVCLFFBQVNHLEdBQUlILFNBQ0o1QixHQUFXTSxRQUFRc0IsR0EvSzVCNUIsRUFBV00sVUFtTFgsSUFBSTBCLElBQ0ZSLFFBQVNBLEVBQ1RYLE9BQVFBLEVBQ1JGLE9BQVFBLEVBQ1JKLEtBQU1BLEVBQ05tQixJQUFLQSxFQUNMRyxJQUFLQSxFQUNMRSxJQUFLQSxFQUdQLE9BQU9DLEdBUVQsUUFBU0MsR0FBZUMsR0FDdEJBLEVBQVN2QixTQW9CWCxRQUFTd0IsR0FBVUMsR0FFYkMsRUFBR0MsU0FBU0YsRUFBSVQsYUFDbEJWLEVBQU9VLFVBQVlTLEVBQUlULFdBSXJCVSxFQUFHQyxTQUFTRixFQUFJbEIsYUFDbEJELEVBQU9DLFVBQVlrQixFQUFJbEIsV0FJckJtQixFQUFHQyxTQUFTRixFQUFJWCxjQUNsQlIsRUFBT1EsV0FBYVcsRUFBSVgsWUF3QjVCLFFBQVNjLEtBQ1AsTUFBT0MsR0EvUVQsR0FBSUgsR0FBS3ZDLEVBQU8yQyxRQUdaeEIsR0FDRlEsV0FBWSxzQkFDWlAsVUFBVyxxQkFDWFMsVUFBVyxnQkF5UFRhLEdBQ0ZMLFVBQVdBLEVBRVhPLE1BQ0UsYUFBYyxRQUFTLEtBRXZCM0MsR0FjSnNDLEdBQUdNLE9BQU8sZ0JBR1RDLFNBQVMsWUFBYUwsR0FHdEJNLEtBQ0MsWUFFQVosS0FHRm5DIiwiZmlsZSI6Im5nLXNlc3Npb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIG5nU2Vzc2lvblxuICpcbiAqIEBkZXNjcmlwdGlvbiBTZXNzaW9uIGhhbmRsZXIgbW9kdWxlIGZvciBBbmd1bGFySlMuXG4gKiBAbW9kdWxlIG5nU2Vzc2lvblxuICogQGF1dGhvciBGaW5hbCBEZXZlbG9wbWVudCBTdHVkaW9cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbihmdW5jdGlvbiAod2luZG93KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgbmcgPSB3aW5kb3cuYW5ndWxhcjtcblxuICAvKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gKi9cbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBzaWduT3V0VXJsOiAnL2FwaS91c2Vycy9zaWduLW91dCcsXG4gICAgc2lnbkluVXJsOiAnL2FwaS91c2Vycy9zaWduLWluJyxcbiAgICB1cGRhdGVVcmw6ICcvYXBpL3Nlc3Npb24nXG4gIH07XG5cbiAgLyoqXG4gICAqIG5nU2Vzc2lvbiBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gbmdTZXNzaW9uU2VydmljZUZuKCRyb290U2NvcGUsICRodHRwLCAkcSkge1xuICAgICRyb290U2NvcGUuc2Vzc2lvbiA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQG1vZHVsZSBuZ1Nlc3Npb25cbiAgICAgKiBAZGVzY3JpcHRpb24gbmdTZXNzaW9uIFNlcnZpY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNlc3Npb24gdXBkYXRlIHN1Y2Nlc3NmdWwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uU2Vzc2lvblVwZGF0ZVN1Y2Nlc3MoZGVmZXJyZWQsIHJlcykge1xuICAgICAgJHJvb3RTY29wZS5zZXNzaW9uLnVzZXIgPSByZXMuZGF0YTtcblxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uIFNpZ24gSW4gc3VjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25TaW5nSW5TdWNjZXNzKGRlZmVycmVkKSB7XG4gICAgICByZXR1cm4gdXBkYXRlKG51bGwsIGRlZmVycmVkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbiBTaWduIE91dCBzdWNjZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblNpbmdPdXRTdWNjZXNzKGRlZmVycmVkLCByZXMpIHtcbiAgICAgICRyb290U2NvcGUuc2Vzc2lvbi51c2VyID0gbnVsbDtcblxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ25zIGEgdXNlciBpbi5cbiAgICAgKlxuICAgICAqIEl0IHdpbGwgcGVyZm9ybSBhIGBQT1NUYCB0byB0aGUgYGNvbmZpZy5zaWduT3V0VXJsYCBwYXRoIGFuZCBwZXJmb3JtIGFuXG4gICAgICogYHVwZGF0ZWAgaWYgc3VjY2Vzc2Z1bC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgZm9yIHNpZ24gaW4uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQW5ndWxhckpTIEhUVFAgcmVxdWVzdCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSByZXNvbHZpbmcgdGhlIHJlcXVlc3QncyBgcmVzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5nU2Vzc2lvbi5zaWduSW4oJHNjb3BlLmRhdGEpXG4gICAgICogICAudGhlbihmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKiAgIC5jYXRjaChmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduSW4oZGF0YSwgb3B0aW9ucykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgLyogUmVtb3ZlIHByZXZpb3VzIHVzZXIgb2JqZWN0ICovXG4gICAgICAkcm9vdFNjb3BlLnNlc3Npb24udXNlciA9IG51bGw7XG5cbiAgICAgICRodHRwLnBvc3QoY29uZmlnLnNpZ25JblVybCwgZGF0YSwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25TaW5nSW5TdWNjZXNzLmJpbmQobnVsbCwgZGVmZXJyZWQpKVxuICAgICAgICAuY2F0Y2goZGVmZXJyZWQucmVqZWN0KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2lnbnMgYSB1c2VyIG91dC5cbiAgICAgKlxuICAgICAqIEl0IHdpbGwgcGVyZm9ybSBhIFBPU1QgdG8gdGhlIGBjb25maWcuc2lnbk91dFVybGAgcGF0aCBhbmQgZGVsZXRlIHRoZVxuICAgICAqIHVzZXIgb2JqZWN0IG9uIHN1Y2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgb3B0aW9uYWwgZGF0YSB0byBzZW5kIGZvciBzaWduIG91dC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25hbCBBbmd1bGFySlMgSFRUUCByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHJlc29sdmluZyB0aGUgcmVxdWVzdCdzIGByZXNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmdTZXNzaW9uLnNpZ25PdXQoJHNjb3BlLmRhdGEpXG4gICAgICogICAudGhlbihmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKiAgIC5jYXRjaChmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduT3V0KGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoY29uZmlnLnNpZ25PdXRVcmwsIGRhdGEsIG9wdGlvbnMpXG4gICAgICAgIC50aGVuKG9uU2luZ091dFN1Y2Nlc3MuYmluZChudWxsLCBkZWZlcnJlZCkpXG4gICAgICAgIC5jYXRjaChkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZXNzaW9uIHVzZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogSXQgd2lsbCBwZXJmb3JtIGEgR0VUIHRvIHRoZSBgY29uZmlnLnVwZGF0ZVVybGAgcGF0aCBhbmQgc2V0IHRoZVxuICAgICAqIHNlc3Npb24ncyB1c2VyIG9iamVjdCBvbiBzdWNjZXNzIHdpdGggdGhlIHJlcXVlc3QncyBgcmVzLmRhdGFgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQW5ndWxhckpTIEhUVFAgcmVxdWVzdCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gZGVmZXJyZWQgT3B0aW9uYWwgZGVmZXJyZWQgcHJvbWlzZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHJlc29sdmluZyB0aGUgcmVxdWVzdCdzIGByZXNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmdTZXNzaW9uLnVwZGF0ZSgkc2NvcGUuZGF0YSlcbiAgICAgKiAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHt9KVxuICAgICAqICAgLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHt9KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvcHRpb25zLCBkZWZlcnJlZCkge1xuICAgICAgaWYgKCFkZWZlcnJlZCkge1xuICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8qIFJldHJpZXZlIGN1cnJlbnQgc2Vzc2lvbiAqL1xuICAgICAgJGh0dHAuZ2V0KGNvbmZpZy51cGRhdGVVcmwsIG9wdGlvbnMgfHwge30pXG4gICAgICAgIC50aGVuKG9uU2Vzc2lvblVwZGF0ZVN1Y2Nlc3MuYmluZChudWxsLCBkZWZlcnJlZCkpXG4gICAgICAgIC5jYXRjaChkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB1c2VyIGRhdGEgdmFsdWUgYnkgcHJvcGVydHkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIHJldHJpZXZlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge01peGVkfSBUaGUgcHJvcGVydHkncyB2YWx1ZSBvciB0aGUgdXNlciBvYmplY3QgaWYgbm9cbiAgICAgKiBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGUgbmdTZXNzaW9uLnVzZXIoJ25hbWUnKTsgLy8gPT4gJ0pvaG4gU21pdGgnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXNlcihwcm9wKSB7XG4gICAgICBpZiAocHJvcCAmJiAkcm9vdFNjb3BlLnNlc3Npb24udXNlcikge1xuICAgICAgICByZXR1cm4gJHJvb3RTY29wZS5zZXNzaW9uLnVzZXJbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkcm9vdFNjb3BlLnNlc3Npb24udXNlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgdmFsdWUgaW4gdGhlIHNlc3Npb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IG5hbWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IFRoZSBwcm9wZXJ0eSB2YWx1ZSB0byBzZXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZSBuZ1Nlc3Npb24uc2V0KCd0ZXN0JywgJ1Rlc3QgVmFsdWUnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQocHJvcCwgdmFsdWUpIHtcbiAgICAgICRyb290U2NvcGUuc2Vzc2lvbltwcm9wXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGFpbnMgYSB2YWx1ZSBmcm9tIHRoZSBzZXNzaW9uIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIG9idGFpbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNaXhlZH0gVGhlIHByb3BlcnR5J3MgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZSBuZ1Nlc3Npb24uZ2V0KCd0ZXN0Jyk7IC8vID0+ICdUZXN0IFZhbHVlJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChwcm9wKSB7XG4gICAgICByZXR1cm4gJHJvb3RTY29wZS5zZXNzaW9uW3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBwcm9wZXJ0eSBmcm9tIHRoZSBzZXNzaW9uIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBuZ1Nlc3Npb24uZGVsKCd0ZXN0Jyk7XG4gICAgICogbmdTZXNzaW9uLmdldCgndGVzdCcpOyAvLyA9PiBudWxsXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsKHByb3ApIHtcbiAgICAgIGRlbGV0ZSAkcm9vdFNjb3BlLnNlc3Npb25bcHJvcF07XG4gICAgfVxuXG4gICAgLyogU2Vzc2lvbiBzZXJ2aWNlIGRlZmluaXRpb24gKi9cbiAgICB2YXIgbmdTZXNzaW9uU2VydmljZURlZiA9IHtcbiAgICAgIHNpZ25PdXQ6IHNpZ25PdXQsXG4gICAgICBzaWduSW46IHNpZ25JbixcbiAgICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgICAgdXNlcjogdXNlcixcbiAgICAgIGdldDogZ2V0LFxuICAgICAgc2V0OiBzZXQsXG4gICAgICBkZWw6IGRlbFxuICAgIH07XG5cbiAgICByZXR1cm4gbmdTZXNzaW9uU2VydmljZURlZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBuZ1Nlc3Npb24gcnVuIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gbmdTZXNzaW9uUnVuRm4oJHNlc3Npb24pIHtcbiAgICAkc2Vzc2lvbi51cGRhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbW9kdWxlIG5nU2Vzc2lvblByb3ZpZGVyXG4gICAqIEBkZXNjcmlwdGlvbiBuZ1Nlc3Npb24gUHJvdmlkZXJcbiAgICovXG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogbmdTZXNzaW9uUHJvdmlkZXIuY29uZmlndXJlKHtcbiAgICogICBzaWduT3V0VXJsOiAnL2FwaS91c2Vycy9zaWduLW91dCcsXG4gICAqICAgc2lnbkluVXJsOiAnL2FwaS91c2Vycy9zaWduLWluJyxcbiAgICogICB1cGRhdGVVcmw6ICcvYXBpL3Nlc3Npb24nXG4gICAqIH0pO1xuICAgKi9cbiAgZnVuY3Rpb24gY29uZmlndXJlKGNmZykge1xuICAgIC8qIFNldHMgc2Vzc2lvbiB1cGRhdGUgR0VUIFVSTCAqL1xuICAgIGlmIChuZy5pc1N0cmluZyhjZmcudXBkYXRlVXJsKSkge1xuICAgICAgY29uZmlnLnVwZGF0ZVVybCA9IGNmZy51cGRhdGVVcmw7XG4gICAgfVxuXG4gICAgLyogU2V0cyBzaWduIGluIFBPU1QgVVJMICovXG4gICAgaWYgKG5nLmlzU3RyaW5nKGNmZy5zaWduSW5VcmwpKSB7XG4gICAgICBjb25maWcuc2lnbkluVXJsID0gY2ZnLnNpZ25JblVybDtcbiAgICB9XG5cbiAgICAvKiBTZXRzIHNpZ24gb3V0IFBPU1QgVVJMICovXG4gICAgaWYgKG5nLmlzU3RyaW5nKGNmZy5zaWduT3V0VXJsKSkge1xuICAgICAgY29uZmlnLnNpZ25PdXRVcmwgPSBjZmcuc2lnbk91dFVybDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogbmdTZXNzaW9uIHByb3ZpZGVyIGRlZmluaXRpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB2YXIgbmdTZXNzaW9uUHJvdmlkZXJEZWYgPSB7XG4gICAgY29uZmlndXJlOiBjb25maWd1cmUsXG5cbiAgICAkZ2V0OiBbXG4gICAgICAnJHJvb3RTY29wZScsICckaHR0cCcsICckcScsXG5cbiAgICAgIG5nU2Vzc2lvblNlcnZpY2VGblxuICAgIF1cbiAgfTtcblxuICAvKipcbiAgICogbmdTZXNzaW9uIHByb3ZpZGVyIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gbmdTZXNzaW9uUHJvdmlkZXJGbigpIHtcbiAgICByZXR1cm4gbmdTZXNzaW9uUHJvdmlkZXJEZWY7XG4gIH1cblxuICAvKiBEZWZpbmUgQW5ndWxhckpTIG1vZHVsZSAqL1xuICBuZy5tb2R1bGUoJ25nU2Vzc2lvbicsIFtdKVxuXG4gIC8qIERlZmluZSBzZXJ2aWNlIHByb3ZpZGVyICovXG4gIC5wcm92aWRlcignbmdTZXNzaW9uJywgbmdTZXNzaW9uUHJvdmlkZXJGbilcblxuICAvKiBEZWZpbmUgQW5ndWxhckpTIG1vZHVsZSBydW4gZnVuY3Rpb24gKi9cbiAgLnJ1bihbXG4gICAgJ25nU2Vzc2lvbicsXG5cbiAgICBuZ1Nlc3Npb25SdW5GblxuICBdKTtcblxufSh3aW5kb3cpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
