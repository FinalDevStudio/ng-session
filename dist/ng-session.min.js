!function(n){"use strict";function s(n,s,e){function r(s,e){n.session.user=e.data,s.resolve(e)}function i(n){return c(null,n)}function t(s,e){n.session.user=null,s.resolve(e)}function o(r,t){var o=e.defer();return n.session.user=null,s.post(u.signInUrl,r,t).then(i.bind(null,o)).catch(o.reject),o.promise}function l(n,r){var i=e.defer();return s.post(u.signOutUrl,n,r).then(t.bind(null,i)).catch(i.reject),i.promise}function c(n,i){return i||(i=e.defer()),s.get(u.updateUrl,n||{}).then(r.bind(null,i)).catch(i.reject),i.promise}function g(s){return s&&n.session.user?n.session.user[s]:n.session.user}function a(s,e){n.session[s]=e}function d(s){return n.session[s]}function f(s){delete n.session[s]}n.session={};var p={signOut:l,signIn:o,update:c,user:g,get:d,set:a,del:f};return p}function e(n){n.update()}function r(n){t.isString(n.updateUrl)&&(u.updateUrl=n.updateUrl),t.isString(n.signInUrl)&&(u.signInUrl=n.signInUrl),t.isString(n.signOutUrl)&&(u.signOutUrl=n.signOutUrl)}function i(){return o}var t=n.angular,u={signOutUrl:"/api/users/sign-out",signInUrl:"/api/users/sign-in",updateUrl:"/api/session"},o={configure:r,$get:["$rootScope","$http","$q",s]};t.module("ngSession",[]).provider("ngSession",i).run(["ngSession",e])}(window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXNlc3Npb24uanMiXSwibmFtZXMiOlsid2luZG93IiwibmdTZXNzaW9uU2VydmljZUZuIiwiJHJvb3RTY29wZSIsIiRodHRwIiwiJHEiLCJvblNlc3Npb25VcGRhdGVTdWNjZXNzIiwiZGVmZXJyZWQiLCJyZXMiLCJzZXNzaW9uIiwidXNlciIsImRhdGEiLCJyZXNvbHZlIiwib25TaW5nSW5TdWNjZXNzIiwidXBkYXRlIiwib25TaW5nT3V0U3VjY2VzcyIsInNpZ25JbiIsIm9wdGlvbnMiLCJkZWZlciIsInBvc3QiLCJjb25maWciLCJzaWduSW5VcmwiLCJ0aGVuIiwiYmluZCIsImNhdGNoIiwicmVqZWN0IiwicHJvbWlzZSIsInNpZ25PdXQiLCJzaWduT3V0VXJsIiwiZ2V0IiwidXBkYXRlVXJsIiwicHJvcCIsInNldCIsInZhbHVlIiwiZGVsIiwibmdTZXNzaW9uU2VydmljZURlZiIsIm5nU2Vzc2lvblJ1bkZuIiwiJHNlc3Npb24iLCJjb25maWd1cmUiLCJjZmciLCJuZyIsImlzU3RyaW5nIiwibmdTZXNzaW9uUHJvdmlkZXJGbiIsIm5nU2Vzc2lvblByb3ZpZGVyRGVmIiwiYW5ndWxhciIsIiRnZXQiLCJtb2R1bGUiLCJwcm92aWRlciIsInJ1biJdLCJtYXBwaW5ncyI6IkNBU0MsU0FBVUEsR0FDVCxZQWdCQSxTQUFTQyxHQUFtQkMsRUFBWUMsRUFBT0MsR0FhN0MsUUFBU0MsR0FBdUJDLEVBQVVDLEdBQ3hDTCxFQUFXTSxRQUFRQyxLQUFPRixFQUFJRyxLQUU5QkosRUFBU0ssUUFBUUosR0FRbkIsUUFBU0ssR0FBZ0JOLEdBQ3ZCLE1BQU9PLEdBQU8sS0FBTVAsR0FRdEIsUUFBU1EsR0FBaUJSLEVBQVVDLEdBQ2xDTCxFQUFXTSxRQUFRQyxLQUFPLEtBRTFCSCxFQUFTSyxRQUFRSixHQW9CbkIsUUFBU1EsR0FBT0wsRUFBTU0sR0FDcEIsR0FBSVYsR0FBV0YsRUFBR2EsT0FTbEIsT0FOQWYsR0FBV00sUUFBUUMsS0FBTyxLQUUxQk4sRUFBTWUsS0FBS0MsRUFBT0MsVUFBV1YsRUFBTU0sR0FDaENLLEtBQUtULEVBQWdCVSxLQUFLLEtBQU1oQixJQUNoQ2lCLE1BQU1qQixFQUFTa0IsUUFFWGxCLEVBQVNtQixRQW9CbEIsUUFBU0MsR0FBUWhCLEVBQU1NLEdBQ3JCLEdBQUlWLEdBQVdGLEVBQUdhLE9BTWxCLE9BSkFkLEdBQU1lLEtBQUtDLEVBQU9RLFdBQVlqQixFQUFNTSxHQUNqQ0ssS0FBS1AsRUFBaUJRLEtBQUssS0FBTWhCLElBQ2pDaUIsTUFBTWpCLEVBQVNrQixRQUVYbEIsRUFBU21CLFFBb0JsQixRQUFTWixHQUFPRyxFQUFTVixHQVV2QixNQVRLQSxLQUNIQSxFQUFXRixFQUFHYSxTQUloQmQsRUFBTXlCLElBQUlULEVBQU9VLFVBQVdiLE9BQ3pCSyxLQUFLaEIsRUFBdUJpQixLQUFLLEtBQU1oQixJQUN2Q2lCLE1BQU1qQixFQUFTa0IsUUFFWGxCLEVBQVNtQixRQWFsQixRQUFTaEIsR0FBS3FCLEdBQ1osTUFBSUEsSUFBUTVCLEVBQVdNLFFBQVFDLEtBQ3RCUCxFQUFXTSxRQUFRQyxLQUFLcUIsR0FHMUI1QixFQUFXTSxRQUFRQyxLQVc1QixRQUFTc0IsR0FBSUQsRUFBTUUsR0FDakI5QixFQUFXTSxRQUFRc0IsR0FBUUUsRUFZN0IsUUFBU0osR0FBSUUsR0FDWCxNQUFPNUIsR0FBV00sUUFBUXNCLEdBWTVCLFFBQVNHLEdBQUlILFNBQ0o1QixHQUFXTSxRQUFRc0IsR0FsTDVCNUIsRUFBV00sVUFzTFgsSUFBSTBCLElBQ0ZSLFFBQVNBLEVBQ1RYLE9BQVFBLEVBQ1JGLE9BQVFBLEVBQ1JKLEtBQU1BLEVBQ05tQixJQUFLQSxFQUNMRyxJQUFLQSxFQUNMRSxJQUFLQSxFQUdQLE9BQU9DLEdBUVQsUUFBU0MsR0FBZUMsR0FDdEJBLEVBQVN2QixTQW9CWCxRQUFTd0IsR0FBVUMsR0FFYkMsRUFBR0MsU0FBU0YsRUFBSVQsYUFDbEJWLEVBQU9VLFVBQVlTLEVBQUlULFdBSXJCVSxFQUFHQyxTQUFTRixFQUFJbEIsYUFDbEJELEVBQU9DLFVBQVlrQixFQUFJbEIsV0FJckJtQixFQUFHQyxTQUFTRixFQUFJWCxjQUNsQlIsRUFBT1EsV0FBYVcsRUFBSVgsWUF3QjVCLFFBQVNjLEtBQ1AsTUFBT0MsR0FsUlQsR0FBSUgsR0FBS3ZDLEVBQU8yQyxRQUdaeEIsR0FDRlEsV0FBWSxzQkFDWlAsVUFBVyxxQkFDWFMsVUFBVyxnQkE0UFRhLEdBQ0ZMLFVBQVdBLEVBRVhPLE1BQ0UsYUFBYyxRQUFTLEtBRXZCM0MsR0FjSnNDLEdBQUdNLE9BQU8sZ0JBR1RDLFNBQVMsWUFBYUwsR0FHdEJNLEtBQ0MsWUFFQVosS0FHRm5DIiwiZmlsZSI6Im5nLXNlc3Npb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIG5nU2Vzc2lvblxuICpcbiAqIEBkZXNjcmlwdGlvbiBTZXNzaW9uIGhhbmRsZXIgbW9kdWxlIGZvciBBbmd1bGFySlMuXG4gKiBAbW9kdWxlIG5nU2Vzc2lvblxuICogQGF1dGhvciBGaW5hbCBEZXZlbG9wbWVudCBTdHVkaW9cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbihmdW5jdGlvbiAod2luZG93KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgbmcgPSB3aW5kb3cuYW5ndWxhcjtcblxuICAvKiBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gKi9cbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBzaWduT3V0VXJsOiAnL2FwaS91c2Vycy9zaWduLW91dCcsXG4gICAgc2lnbkluVXJsOiAnL2FwaS91c2Vycy9zaWduLWluJyxcbiAgICB1cGRhdGVVcmw6ICcvYXBpL3Nlc3Npb24nXG4gIH07XG5cbiAgLyoqXG4gICAqIG5nU2Vzc2lvbiBzZXJ2aWNlIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gbmdTZXNzaW9uU2VydmljZUZuKCRyb290U2NvcGUsICRodHRwLCAkcSkge1xuICAgICRyb290U2NvcGUuc2Vzc2lvbiA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQG1vZHVsZSBuZ1Nlc3Npb25cbiAgICAgKiBAZGVzY3JpcHRpb24gbmdTZXNzaW9uIFNlcnZpY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNlc3Npb24gdXBkYXRlIHN1Y2Nlc3NmdWwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uU2Vzc2lvblVwZGF0ZVN1Y2Nlc3MoZGVmZXJyZWQsIHJlcykge1xuICAgICAgJHJvb3RTY29wZS5zZXNzaW9uLnVzZXIgPSByZXMuZGF0YTtcblxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uIFNpZ24gSW4gc3VjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25TaW5nSW5TdWNjZXNzKGRlZmVycmVkKSB7XG4gICAgICByZXR1cm4gdXBkYXRlKG51bGwsIGRlZmVycmVkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbiBTaWduIE91dCBzdWNjZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblNpbmdPdXRTdWNjZXNzKGRlZmVycmVkLCByZXMpIHtcbiAgICAgICRyb290U2NvcGUuc2Vzc2lvbi51c2VyID0gbnVsbDtcblxuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ25zIGEgdXNlciBpbi5cbiAgICAgKlxuICAgICAqIEl0IHdpbGwgcGVyZm9ybSBhIGBQT1NUYCB0byB0aGUgYGNvbmZpZy5zaWduT3V0VXJsYCBwYXRoIGFuZCBwZXJmb3JtIGFuXG4gICAgICogYHVwZGF0ZWAgaWYgc3VjY2Vzc2Z1bC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQgZm9yIHNpZ24gaW4uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQW5ndWxhckpTIEhUVFAgcmVxdWVzdCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IHJlcSBUaGUgQW5ndWxhckpTIEhUVFAgcHJvbWlzZS4gV2lsbCBwYXNzIGFsb25nIHRoZVxuICAgICAqIHJlcXVlc3QncyBgcmVzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5nU2Vzc2lvbi5zaWduSW4oJHNjb3BlLmRhdGEpXG4gICAgICogICAudGhlbihmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKiAgIC5jYXRjaChmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduSW4oZGF0YSwgb3B0aW9ucykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgLyogUmVtb3ZlIHByZXZpb3VzIHVzZXIgb2JqZWN0ICovXG4gICAgICAkcm9vdFNjb3BlLnNlc3Npb24udXNlciA9IG51bGw7XG5cbiAgICAgICRodHRwLnBvc3QoY29uZmlnLnNpZ25JblVybCwgZGF0YSwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25TaW5nSW5TdWNjZXNzLmJpbmQobnVsbCwgZGVmZXJyZWQpKVxuICAgICAgICAuY2F0Y2goZGVmZXJyZWQucmVqZWN0KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2lnbnMgYSB1c2VyIG91dC5cbiAgICAgKlxuICAgICAqIEl0IHdpbGwgcGVyZm9ybSBhIFBPU1QgdG8gdGhlIGBjb25maWcuc2lnbk91dFVybGAgcGF0aCBhbmQgZGVsZXRlIHRoZVxuICAgICAqIHVzZXIgb2JqZWN0IG9uIHN1Y2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgb3B0aW9uYWwgZGF0YSB0byBzZW5kIGZvciBzaWduIG91dC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25hbCBBbmd1bGFySlMgSFRUUCByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVxIFRoZSBBbmd1bGFySlMgSFRUUCBwcm9taXNlLiBXaWxsIHBhc3MgYWxvbmcgdGhlXG4gICAgICogcmVxdWVzdCdzIGByZXNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmdTZXNzaW9uLnNpZ25PdXQoJHNjb3BlLmRhdGEpXG4gICAgICogICAudGhlbihmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKiAgIC5jYXRjaChmdW5jdGlvbiAocmVzKSB7fSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduT3V0KGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoY29uZmlnLnNpZ25PdXRVcmwsIGRhdGEsIG9wdGlvbnMpXG4gICAgICAgIC50aGVuKG9uU2luZ091dFN1Y2Nlc3MuYmluZChudWxsLCBkZWZlcnJlZCkpXG4gICAgICAgIC5jYXRjaChkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZXNzaW9uIHVzZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogSXQgd2lsbCBwZXJmb3JtIGEgR0VUIHRvIHRoZSBgY29uZmlnLnVwZGF0ZVVybGAgcGF0aCBhbmQgc2V0IHRoZVxuICAgICAqIHNlc3Npb24ncyB1c2VyIG9iamVjdCBvbiBzdWNjZXNzIHdpdGggdGhlIHJlcXVlc3QncyBgcmVzLmRhdGFgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQW5ndWxhckpTIEhUVFAgcmVxdWVzdCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gZGVmZXJyZWQgT3B0aW9uYWwgZGVmZXJyZWQgcHJvbWlzZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVxIFRoZSBBbmd1bGFySlMgSFRUUCBwcm9taXNlLiBXaWxsIHBhc3MgYWxvbmcgdGhlXG4gICAgICogcmVxdWVzdCdzIGByZXNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbmdTZXNzaW9uLnVwZGF0ZSgkc2NvcGUuZGF0YSlcbiAgICAgKiAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHt9KVxuICAgICAqICAgLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHt9KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvcHRpb25zLCBkZWZlcnJlZCkge1xuICAgICAgaWYgKCFkZWZlcnJlZCkge1xuICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8qIFJldHJpZXZlIGN1cnJlbnQgc2Vzc2lvbiAqL1xuICAgICAgJGh0dHAuZ2V0KGNvbmZpZy51cGRhdGVVcmwsIG9wdGlvbnMgfHwge30pXG4gICAgICAgIC50aGVuKG9uU2Vzc2lvblVwZGF0ZVN1Y2Nlc3MuYmluZChudWxsLCBkZWZlcnJlZCkpXG4gICAgICAgIC5jYXRjaChkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB1c2VyIGRhdGEgdmFsdWUgYnkgcHJvcGVydHkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIHJldHJpZXZlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge01peGVkfSB2YWx1ZSBUaGUgcHJvcGVydHkncyB2YWx1ZSBvciB0aGUgdXNlciBvYmplY3QgaWYgbm9cbiAgICAgKiBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGUgbmdTZXNzaW9uLnVzZXIoJ25hbWUnKTsgLy8gPT4gJ0pvaG4gU21pdGgnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXNlcihwcm9wKSB7XG4gICAgICBpZiAocHJvcCAmJiAkcm9vdFNjb3BlLnNlc3Npb24udXNlcikge1xuICAgICAgICByZXR1cm4gJHJvb3RTY29wZS5zZXNzaW9uLnVzZXJbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkcm9vdFNjb3BlLnNlc3Npb24udXNlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNldHMgYSB2YWx1ZSBpbiB0aGUgc2Vzc2lvbiBvYmplY3QuXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IG5hbWUgdG8gc2V0LlxuICAgICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgVGhlIHByb3BlcnR5IHZhbHVlIHRvIHNldC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZSBuZ1Nlc3Npb24uc2V0KCd0ZXN0JywgJ1Rlc3QgVmFsdWUnKTtcbiAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChwcm9wLCB2YWx1ZSkge1xuICAgICAgJHJvb3RTY29wZS5zZXNzaW9uW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2J0YWlucyBhIHZhbHVlIGZyb20gdGhlIHNlc3Npb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IG5hbWUgdG8gb2J0YWluLlxuICAgICAqXG4gICAgICogQHJldHVybnMge01peGVkfSB2YWx1ZSBUaGUgcHJvcGVydHkncyB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlIG5nU2Vzc2lvbi5nZXQoJ3Rlc3QnKTsgLy8gPT4gJ1Rlc3QgVmFsdWUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KHByb3ApIHtcbiAgICAgIHJldHVybiAkcm9vdFNjb3BlLnNlc3Npb25bcHJvcF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHByb3BlcnR5IGZyb20gdGhlIHNlc3Npb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IG5hbWUuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG5nU2Vzc2lvbi5kZWwoJ3Rlc3QnKTtcbiAgICAgKiBuZ1Nlc3Npb24uZ2V0KCd0ZXN0Jyk7IC8vID0+IG51bGxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWwocHJvcCkge1xuICAgICAgZGVsZXRlICRyb290U2NvcGUuc2Vzc2lvbltwcm9wXTtcbiAgICB9XG5cbiAgICAvKiBTZXNzaW9uIHNlcnZpY2UgZGVmaW5pdGlvbiAqL1xuICAgIHZhciBuZ1Nlc3Npb25TZXJ2aWNlRGVmID0ge1xuICAgICAgc2lnbk91dDogc2lnbk91dCxcbiAgICAgIHNpZ25Jbjogc2lnbkluLFxuICAgICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgICB1c2VyOiB1c2VyLFxuICAgICAgZ2V0OiBnZXQsXG4gICAgICBzZXQ6IHNldCxcbiAgICAgIGRlbDogZGVsXG4gICAgfTtcblxuICAgIHJldHVybiBuZ1Nlc3Npb25TZXJ2aWNlRGVmO1xuICB9XG5cbiAgLyoqXG4gICAqIG5nU2Vzc2lvbiBydW4gZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBuZ1Nlc3Npb25SdW5Gbigkc2Vzc2lvbikge1xuICAgICRzZXNzaW9uLnVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtb2R1bGUgbmdTZXNzaW9uUHJvdmlkZXJcbiAgICogQGRlc2NyaXB0aW9uIG5nU2Vzc2lvbiBQcm92aWRlclxuICAgKi9cblxuICAvKipcbiAgICogQ29uZmlndXJhdGlvbiBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBuZ1Nlc3Npb25Qcm92aWRlci5jb25maWd1cmUoe1xuICAgKiAgIHNpZ25PdXRVcmw6ICcvYXBpL3VzZXJzL3NpZ24tb3V0JyxcbiAgICogICBzaWduSW5Vcmw6ICcvYXBpL3VzZXJzL3NpZ24taW4nLFxuICAgKiAgIHVwZGF0ZVVybDogJy9hcGkvc2Vzc2lvbidcbiAgICogfSk7XG4gICAqL1xuICBmdW5jdGlvbiBjb25maWd1cmUoY2ZnKSB7XG4gICAgLyogU2V0cyBzZXNzaW9uIHVwZGF0ZSBHRVQgVVJMICovXG4gICAgaWYgKG5nLmlzU3RyaW5nKGNmZy51cGRhdGVVcmwpKSB7XG4gICAgICBjb25maWcudXBkYXRlVXJsID0gY2ZnLnVwZGF0ZVVybDtcbiAgICB9XG5cbiAgICAvKiBTZXRzIHNpZ24gaW4gUE9TVCBVUkwgKi9cbiAgICBpZiAobmcuaXNTdHJpbmcoY2ZnLnNpZ25JblVybCkpIHtcbiAgICAgIGNvbmZpZy5zaWduSW5VcmwgPSBjZmcuc2lnbkluVXJsO1xuICAgIH1cblxuICAgIC8qIFNldHMgc2lnbiBvdXQgUE9TVCBVUkwgKi9cbiAgICBpZiAobmcuaXNTdHJpbmcoY2ZnLnNpZ25PdXRVcmwpKSB7XG4gICAgICBjb25maWcuc2lnbk91dFVybCA9IGNmZy5zaWduT3V0VXJsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBuZ1Nlc3Npb24gcHJvdmlkZXIgZGVmaW5pdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHZhciBuZ1Nlc3Npb25Qcm92aWRlckRlZiA9IHtcbiAgICBjb25maWd1cmU6IGNvbmZpZ3VyZSxcblxuICAgICRnZXQ6IFtcbiAgICAgICckcm9vdFNjb3BlJywgJyRodHRwJywgJyRxJyxcblxuICAgICAgbmdTZXNzaW9uU2VydmljZUZuXG4gICAgXVxuICB9O1xuXG4gIC8qKlxuICAgKiBuZ1Nlc3Npb24gcHJvdmlkZXIgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBuZ1Nlc3Npb25Qcm92aWRlckZuKCkge1xuICAgIHJldHVybiBuZ1Nlc3Npb25Qcm92aWRlckRlZjtcbiAgfVxuXG4gIC8qIERlZmluZSBBbmd1bGFySlMgbW9kdWxlICovXG4gIG5nLm1vZHVsZSgnbmdTZXNzaW9uJywgW10pXG5cbiAgLyogRGVmaW5lIHNlcnZpY2UgcHJvdmlkZXIgKi9cbiAgLnByb3ZpZGVyKCduZ1Nlc3Npb24nLCBuZ1Nlc3Npb25Qcm92aWRlckZuKVxuXG4gIC8qIERlZmluZSBBbmd1bGFySlMgbW9kdWxlIHJ1biBmdW5jdGlvbiAqL1xuICAucnVuKFtcbiAgICAnbmdTZXNzaW9uJyxcblxuICAgIG5nU2Vzc2lvblJ1bkZuXG4gIF0pO1xuXG59KHdpbmRvdykpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
