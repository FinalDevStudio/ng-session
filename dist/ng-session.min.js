!function(n){"use strict";function s(n,s){function e(s){return n.session.user=s.data,s}function t(n,t){return s.post(r.signInUrl,n,t).then(e)}function u(s){return n.session.user=null,s}function i(n,e){return s.post(r.signOutUrl,n,e).then(u)}function o(s){return s&&n.session.user?n.session.user[s]:n.session.user}function c(s){return n.session[s]}function g(s,e){n.session[s]=e}function f(s){delete n.session[s]}function l(n){t(n.data)}function a(n){return s.get(n||r.url).then(l)}n.session={};var p={signOut:i,signIn:t,update:a,user:o,get:c,set:g,del:f};return p}function e(n){n.update()}function t(n){i.isString(n.url)&&(r.url=n.url)}function u(){return o}var i=n.angular,r={signOutUrl:"/api/users/sign-out",signInUrl:"/api/users/sign-in",updateUrl:"/api/session"},o={configure:t,$get:["$rootScope","$http",s]};i.module("ngSession",[]).provider("ngSession",u).run(["ngSession",e])}(window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXNlc3Npb24uanMiXSwibmFtZXMiOlsid2luZG93IiwibmdTZXNzaW9uU2VydmljZUZuIiwiJHJvb3RTY29wZSIsIiRodHRwIiwib25TaW5nSW5TdWNjZXNzIiwicmVzIiwic2Vzc2lvbiIsInVzZXIiLCJkYXRhIiwic2lnbkluIiwib3B0aW9ucyIsInBvc3QiLCJjb25maWciLCJzaWduSW5VcmwiLCJ0aGVuIiwib25TaW5nT3V0U3VjY2VzcyIsInNpZ25PdXQiLCJzaWduT3V0VXJsIiwicHJvcCIsImdldCIsInNldCIsInZhbHVlIiwiZGVsIiwib25HZXRTZXNzaW9uU3VjY2VzcyIsInVwZGF0ZSIsInVybCIsIm5nU2Vzc2lvblNlcnZpY2VEZWYiLCJuZ1Nlc3Npb25SdW5GbiIsIiRzZXNzaW9uIiwiY29uZmlndXJlIiwiY2ZnIiwibmciLCJpc1N0cmluZyIsIm5nU2Vzc2lvblByb3ZpZGVyRm4iLCJuZ1Nlc3Npb25Qcm92aWRlckRlZiIsImFuZ3VsYXIiLCJ1cGRhdGVVcmwiLCIkZ2V0IiwibW9kdWxlIiwicHJvdmlkZXIiLCJydW4iXSwibWFwcGluZ3MiOiJDQUFDLFNBQVVBLEdBQ1QsWUFjQSxTQUFTQyxHQUFtQkMsRUFBWUMsR0FNdEMsUUFBU0MsR0FBZ0JDLEdBRXZCLE1BREFILEdBQVdJLFFBQVFDLEtBQU9GLEVBQUlHLEtBQ3ZCSCxFQWVULFFBQVNJLEdBQU9ELEVBQU1FLEdBQ3BCLE1BQU9QLEdBQU1RLEtBQUtDLEVBQU9DLFVBQVdMLEVBQU1FLEdBQ3ZDSSxLQUFLVixHQU1WLFFBQVNXLEdBQWlCVixHQUV4QixNQURBSCxHQUFXSSxRQUFRQyxLQUFPLEtBQ25CRixFQWVULFFBQVNXLEdBQVFSLEVBQU1FLEdBQ3JCLE1BQU9QLEdBQU1RLEtBQUtDLEVBQU9LLFdBQVlULEVBQU1FLEdBQ3hDSSxLQUFLQyxHQVdWLFFBQVNSLEdBQUtXLEdBQ1osTUFBSUEsSUFBUWhCLEVBQVdJLFFBQVFDLEtBQ3RCTCxFQUFXSSxRQUFRQyxLQUFLVyxHQUcxQmhCLEVBQVdJLFFBQVFDLEtBVTVCLFFBQVNZLEdBQUlELEdBQ1gsTUFBT2hCLEdBQVdJLFFBQVFZLEdBUzVCLFFBQVNFLEdBQUlGLEVBQU1HLEdBQ2pCbkIsRUFBV0ksUUFBUVksR0FBUUcsRUFRN0IsUUFBU0MsR0FBSUosU0FDSmhCLEdBQVdJLFFBQVFZLEdBTTVCLFFBQVNLLEdBQW9CbEIsR0FDM0JJLEVBQU9KLEVBQUlHLE1BUWIsUUFBU2dCLEdBQU9DLEdBRWQsTUFBT3RCLEdBQU1nQixJQUFJTSxHQUFPYixFQUFPYSxLQUM1QlgsS0FBS1MsR0FqSFZyQixFQUFXSSxVQXFIWCxJQUFJb0IsSUFDRlYsUUFBU0EsRUFDVFAsT0FBUUEsRUFDUmUsT0FBUUEsRUFDUmpCLEtBQU1BLEVBQ05ZLElBQUtBLEVBQ0xDLElBQUtBLEVBQ0xFLElBQUtBLEVBR1AsT0FBT0ksR0FNVCxRQUFTQyxHQUFlQyxHQUN0QkEsRUFBU0osU0FRWCxRQUFTSyxHQUFVQyxHQUViQyxFQUFHQyxTQUFTRixFQUFJTCxPQUNsQmIsRUFBT2EsSUFBTUssRUFBSUwsS0FvQnJCLFFBQVNRLEtBQ1AsTUFBT0MsR0FuTFQsR0FBSUgsR0FBSy9CLEVBQU9tQyxRQUdadkIsR0FDRkssV0FBWSxzQkFDWkosVUFBVyxxQkFDWHVCLFVBQVcsZ0JBK0pURixHQUNGTCxVQUFXQSxFQUVYUSxNQUNFLGFBQWMsUUFFZHBDLEdBWUo4QixHQUFHTyxPQUFPLGdCQUdUQyxTQUFTLFlBQWFOLEdBR3RCTyxLQUNDLFlBRUFiLEtBR0YzQiIsImZpbGUiOiJuZy1zZXNzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBuZyA9IHdpbmRvdy5hbmd1bGFyO1xuXG4gIC8qIERlZmF1bHQgY29uZmlndXJhdGlvbiAqL1xuICB2YXIgY29uZmlnID0ge1xuICAgIHNpZ25PdXRVcmw6ICcvYXBpL3VzZXJzL3NpZ24tb3V0JyxcbiAgICBzaWduSW5Vcmw6ICcvYXBpL3VzZXJzL3NpZ24taW4nLFxuICAgIHVwZGF0ZVVybDogJy9hcGkvc2Vzc2lvbidcbiAgfTtcblxuICAvKipcbiAgICogbmdTZXNzaW9uIHNlcnZpY2UgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBuZ1Nlc3Npb25TZXJ2aWNlRm4oJHJvb3RTY29wZSwgJGh0dHApIHtcbiAgICAkcm9vdFNjb3BlLnNlc3Npb24gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIE9uIFNpZ24gSW4gc3VjY2Vzcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblNpbmdJblN1Y2Nlc3MocmVzKSB7XG4gICAgICAkcm9vdFNjb3BlLnNlc3Npb24udXNlciA9IHJlcy5kYXRhO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaWducyBhIHVzZXIgaW4uXG4gICAgICpcbiAgICAgKiBJdCB3aWxsIHBlcmZvcm0gYSBQT1NUIHRvIHRoZSBgY29uZmlnLnNpZ25PdXRVcmxgIHBhdGggYW5kIGFzc2lnbiB0aGVcbiAgICAgKiB1c2VyIG9iamVjdCBmcm9tIHRoZSBgcmVzLmRhdGFgIG9iamVjdCBvbiBzdWNjZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgdG8gc2VuZCBmb3Igc2lnbiBpbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25hbCBBbmd1bGFySlMgSFRUUCByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVxIFRoZSBBbmd1bGFySlMgSFRUUCBwcm9taXNlLiBXaWxsIHBhc3MgYWxvbmcgdGhlXG4gICAgICogcmVxdWVzdCdzIGByZXNgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduSW4oZGF0YSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoY29uZmlnLnNpZ25JblVybCwgZGF0YSwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25TaW5nSW5TdWNjZXNzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbiBTaWduIE91dCBzdWNjZXNzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uU2luZ091dFN1Y2Nlc3MocmVzKSB7XG4gICAgICAkcm9vdFNjb3BlLnNlc3Npb24udXNlciA9IG51bGw7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpZ25zIGEgdXNlciBvdXQuXG4gICAgICpcbiAgICAgKiBJdCB3aWxsIHBlcmZvcm0gYSBQT1NUIHRvIHRoZSBgY29uZmlnLnNpZ25PdXRVcmxgIHBhdGggYW5kIGRlbGV0ZSB0aGVcbiAgICAgKiB1c2VyIG9iamVjdCBvbiBzdWNjZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIG9wdGlvbmFsIGRhdGEgdG8gc2VuZCBmb3Igc2lnbiBvdXQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQW5ndWxhckpTIEhUVFAgcmVxdWVzdCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IHJlcSBUaGUgQW5ndWxhckpTIEhUVFAgcHJvbWlzZS4gV2lsbCBwYXNzIGFsb25nIHRoZVxuICAgICAqIHJlcXVlc3QncyBgcmVzYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2lnbk91dChkYXRhLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChjb25maWcuc2lnbk91dFVybCwgZGF0YSwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25TaW5nT3V0U3VjY2Vzcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdXNlciBkYXRhIHZhbHVlIGJ5IHByb3BlcnR5IG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBUaGUgcHJvcGVydHkgbmFtZSB0byByZXRyaWV2ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNaXhlZH0gdmFsdWUgVGhlIHByb3BlcnR5J3MgdmFsdWUgb3IgdGhlIHVzZXIgb2JqZWN0IGlmIG5vXG4gICAgICogcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1c2VyKHByb3ApIHtcbiAgICAgIGlmIChwcm9wICYmICRyb290U2NvcGUuc2Vzc2lvbi51c2VyKSB7XG4gICAgICAgIHJldHVybiAkcm9vdFNjb3BlLnNlc3Npb24udXNlcltwcm9wXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRyb290U2NvcGUuc2Vzc2lvbi51c2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGFpbnMgYSB2YWx1ZSBmcm9tIHRoZSBzZXNzaW9uIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIG9idGFpbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNaXhlZH0gdmFsdWUgVGhlIHByb3BlcnR5J3MgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KHByb3ApIHtcbiAgICAgIHJldHVybiAkcm9vdFNjb3BlLnNlc3Npb25bcHJvcF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlIGluIHRoZSBzZXNzaW9uIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBUaGUgcHJvcGVydHkgdmFsdWUgdG8gc2V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChwcm9wLCB2YWx1ZSkge1xuICAgICAgJHJvb3RTY29wZS5zZXNzaW9uW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHByb3BlcnR5IGZyb20gdGhlIHNlc3Npb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsKHByb3ApIHtcbiAgICAgIGRlbGV0ZSAkcm9vdFNjb3BlLnNlc3Npb25bcHJvcF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2Vzc2lvbiB1cGRhdGUgc3VjY2Vzc2Z1bC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbkdldFNlc3Npb25TdWNjZXNzKHJlcykge1xuICAgICAgc2lnbkluKHJlcy5kYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZXNzaW9uIHVzZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBVUkwgdG8gb3ZlcndyaXRlIHRoZSBkZWZhdWx0IHVwZGF0ZSB1cmwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKHVybCkge1xuICAgICAgLyogUmV0cmlldmUgY3VycmVudCBzZXNzaW9uICovXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCB8fCBjb25maWcudXJsKVxuICAgICAgICAudGhlbihvbkdldFNlc3Npb25TdWNjZXNzKTtcbiAgICB9XG5cbiAgICAvKiBTZXNzaW9uIHNlcnZpY2UgZGVmaW5pdGlvbiAqL1xuICAgIHZhciBuZ1Nlc3Npb25TZXJ2aWNlRGVmID0ge1xuICAgICAgc2lnbk91dDogc2lnbk91dCxcbiAgICAgIHNpZ25Jbjogc2lnbkluLFxuICAgICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgICB1c2VyOiB1c2VyLFxuICAgICAgZ2V0OiBnZXQsXG4gICAgICBzZXQ6IHNldCxcbiAgICAgIGRlbDogZGVsXG4gICAgfTtcblxuICAgIHJldHVybiBuZ1Nlc3Npb25TZXJ2aWNlRGVmO1xuICB9XG5cbiAgLyoqXG4gICAqIG5nU2Vzc2lvbiBydW4gZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBuZ1Nlc3Npb25SdW5Gbigkc2Vzc2lvbikge1xuICAgICRzZXNzaW9uLnVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShjZmcpIHtcbiAgICAvKiBTZXRzIGRlZmF1bHQgc2Vzc2lvbiBHRVQgVVJMICovXG4gICAgaWYgKG5nLmlzU3RyaW5nKGNmZy51cmwpKSB7XG4gICAgICBjb25maWcudXJsID0gY2ZnLnVybDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogbmdTZXNzaW9uIHByb3ZpZGVyIGRlZmluaXRpb24uXG4gICAqL1xuICB2YXIgbmdTZXNzaW9uUHJvdmlkZXJEZWYgPSB7XG4gICAgY29uZmlndXJlOiBjb25maWd1cmUsXG5cbiAgICAkZ2V0OiBbXG4gICAgICAnJHJvb3RTY29wZScsICckaHR0cCcsXG5cbiAgICAgIG5nU2Vzc2lvblNlcnZpY2VGblxuICAgIF1cbiAgfTtcblxuICAvKipcbiAgICogbmdTZXNzaW9uIHByb3ZpZGVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gbmdTZXNzaW9uUHJvdmlkZXJGbigpIHtcbiAgICByZXR1cm4gbmdTZXNzaW9uUHJvdmlkZXJEZWY7XG4gIH1cblxuICAvKiBEZWZpbmUgQW5ndWxhckpTIG1vZHVsZSAqL1xuICBuZy5tb2R1bGUoJ25nU2Vzc2lvbicsIFtdKVxuXG4gIC8qIERlZmluZSBzZXJ2aWNlIHByb3ZpZGVyICovXG4gIC5wcm92aWRlcignbmdTZXNzaW9uJywgbmdTZXNzaW9uUHJvdmlkZXJGbilcblxuICAvKiBEZWZpbmUgQW5ndWxhckpTIG1vZHVsZSBydW4gZnVuY3Rpb24gKi9cbiAgLnJ1bihbXG4gICAgJ25nU2Vzc2lvbicsXG5cbiAgICBuZ1Nlc3Npb25SdW5GblxuICBdKTtcblxufSh3aW5kb3cpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
